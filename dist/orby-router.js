var t=require("@orby/core"),e=require("path-path");var r=[],n="__orby_router_namespace__",o={path:"",getPath:function(){return window.location.pathname+location.search},setPath:function(t){window.history.pushState({},"",t),u(t)},setup:function(){var t=this;window.addEventListener("popstate",function(e){u(t.getPath())})}};function a(t){return o.path||(o.path=o.getPath(),o.setup()),t(o.path),r.push(t),function(){r.splice(r.indexOf(t)>>>0,1)}}function u(t){o.path=t,r.forEach(function(e){return e(t)})}function i(r,o){var u=t.useState(!1),i=u[0],c=u[1],p=t.useContext(n)||"";return r=o?r:e.join(p,r),t.useEffect(function(){var t=e.create(r);return a(function(r){var n=e.compare(t,r);c(n)})},r),i}function c(t){return t.use}function p(r,a){var u=t.useContext(n)||"";return r=a?r:e.join(u,r),function(t){t&&t.preventDefault&&t.preventDefault(),o.setPath(e.resolve(o.path,r))}}function s(r,o){var a;return t.h(c,{context:(a={},a[n]=e.join(o[n]||"",r.path),a),use:r.children[0]})}function h(t){var e=i(t.path);return e?t.children[0](e):""}function f(e){var r=e.path,n=e.children,o=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&-1===e.indexOf(n)&&(r[n]=t[n]);return r}(e,["path","children"]),a=p(r);return t.h("a",Object.assign({},o,{href:r,onClick:a}),n)}var v={Route:h,Group:s,Link:f};exports.NameSpace=n,exports.history=o,exports.subscribe=a,exports.dispatch=u,exports.useRouter=i,exports.useRedirect=p,exports.Group=s,exports.Route=h,exports.Link=f,exports.default=v;
//# sourceMappingURL=orby-router.js.map
