import{h as t,useState as n,useEffect as r,useContext as e}from"@orby/core";import{create as a,compare as o,resolve as u,join as i}from"path-path";var c=[],p="__orby_router_namespace__",h={path:"",getPath:function(){return window.location.pathname+location.search},setPath:function(t){window.history.pushState({},"",t),s(t)},setup:function(){var t=this;window.addEventListener("popstate",function(n){s(t.getPath())})}};function f(t){return h.path||(h.path=h.getPath(),h.setup()),t(h.path),c.push(t),function(){c.splice(c.indexOf(t)>>>0,1)}}function s(t){h.path=t,c.forEach(function(n){return n(t)})}function v(t,u){var c=n(!1),h=c[0],s=c[1],v=e(p)||"";return t=u?t:i(v,t),r(function(){var n=a(t);return f(function(t){var r=o(n,t);s(r)})},t),h}function l(t){return t.use}function d(t,n){var r=e(p)||"";return t=n?t:i(r,t),function(n){n&&n.preventDefault&&n.preventDefault(),h.setPath(u(h.path,t))}}function w(n,r){var e;return t(l,{context:(e={},e[p]=i(r[p]||"",n.path),e),use:n.children[0]})}function m(t){var n=v(t.path);return n?t.children[0](n):""}function P(n){var r=n.path,e=n.children,a=function(t,n){var r={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&-1===n.indexOf(e)&&(r[e]=t[e]);return r}(n,["path","children"]),o=d(r);return t("a",Object.assign({},a,{href:r,onClick:o}),e)}export default{Route:m,Group:w,Link:P};export{p as NameSpace,h as history,f as subscribe,s as dispatch,v as useRouter,d as useRedirect,w as Group,m as Route,P as Link};
//# sourceMappingURL=orby-router.mjs.map
